{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-crypto","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":38,"index":142}}],"key":"+Akla+LrhuGGU54C9zXxLPlFUv4=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":143},"end":{"line":4,"column":26,"index":169}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[2], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoCrypto = require(_dependencyMap[4], \"expo-crypto\");\n  var Crypto = _interopNamespace(_expoCrypto);\n  var _axios = require(_dependencyMap[5], \"axios\");\n  var axios = _interopDefault(_axios);\n  var API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  var useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: false,\n    hashPin: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (pin) {\n        var hash = yield Crypto.digestStringAsync(Crypto.CryptoDigestAlgorithm.SHA256, pin);\n        return hash;\n      });\n      return function hashPin(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    register: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (username, pin) {\n        set({\n          isLoading: true\n        });\n        try {\n          var pinHash = yield get().hashPin(pin);\n          var response = yield axios.default.post(`${API_URL}/api/users/register`, {\n            username,\n            pin_hash: pinHash\n          });\n          var user = response.data;\n          yield AsyncStorage.default.setItem('user', JSON.stringify(user));\n          yield AsyncStorage.default.setItem('pin_hash', pinHash);\n          set({\n            user,\n            isLoading: false\n          });\n        } catch (error) {\n          set({\n            isLoading: false\n          });\n          throw new Error(error.response?.data?.detail || 'Registration failed');\n        }\n      });\n      return function register(_x2, _x3) {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    login: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (username, pin) {\n        set({\n          isLoading: true\n        });\n        try {\n          var pinHash = yield get().hashPin(pin);\n          var response = yield axios.default.post(`${API_URL}/api/users/login`, {\n            username,\n            pin_hash: pinHash\n          });\n          var user = response.data;\n          yield AsyncStorage.default.setItem('user', JSON.stringify(user));\n          yield AsyncStorage.default.setItem('pin_hash', pinHash);\n          set({\n            user,\n            isLoading: false\n          });\n        } catch (error) {\n          set({\n            isLoading: false\n          });\n          throw new Error(error.response?.data?.detail || 'Login failed');\n        }\n      });\n      return function login(_x4, _x5) {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    logout: function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        yield AsyncStorage.default.removeItem('user');\n        yield AsyncStorage.default.removeItem('pin_hash');\n        set({\n          user: null,\n          token: null\n        });\n      });\n      return function logout() {\n        return _ref4.apply(this, arguments);\n      };\n    }(),\n    checkAuth: function () {\n      var _ref5 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var userStr = yield AsyncStorage.default.getItem('user');\n          if (userStr) {\n            var user = JSON.parse(userStr);\n            set({\n              user\n            });\n          }\n        } catch (error) {\n          console.error('Auth check failed:', error);\n        }\n      });\n      return function checkAuth() {\n        return _ref5.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":147,"map":[[27,2,27,0,"Object"],[27,8,27,0],[27,9,27,0,"defineProperty"],[27,23,27,0],[27,24,27,0,"exports"],[27,31,27,0],[28,4,27,0,"enumerable"],[28,14,27,0],[29,4,27,0,"get"],[29,7,27,0],[29,18,27,0,"get"],[29,19,27,0],[30,6,27,0],[30,13,27,0,"useAuthStore"],[30,25,27,0],[31,4,27,0],[32,2,27,0],[33,2,95,4],[33,6,95,4,"_babelRuntimeHelpersAsyncToGenerator"],[33,42,95,4],[33,45,95,4,"require"],[33,52,95,4],[33,53,95,4,"_dependencyMap"],[33,67,95,4],[34,2,95,4],[34,6,95,4,"_asyncToGenerator"],[34,23,95,4],[34,26,95,4,"_interopDefault"],[34,41,95,4],[34,42,95,4,"_babelRuntimeHelpersAsyncToGenerator"],[34,78,95,4],[35,2,95,4],[35,6,95,4,"_expoVirtualEnv"],[35,21,95,4],[35,24,95,4,"require"],[35,31,95,4],[35,32,95,4,"_dependencyMap"],[35,46,95,4],[36,2,1,0],[36,6,1,0,"_zustand"],[36,14,1,0],[36,17,1,0,"require"],[36,24,1,0],[36,25,1,0,"_dependencyMap"],[36,39,1,0],[37,2,2,0],[37,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[37,42,2,0],[37,45,2,0,"require"],[37,52,2,0],[37,53,2,0,"_dependencyMap"],[37,67,2,0],[38,2,2,0],[38,6,2,0,"AsyncStorage"],[38,18,2,0],[38,21,2,0,"_interopDefault"],[38,36,2,0],[38,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[38,73,2,0],[39,2,3,0],[39,6,3,0,"_expoCrypto"],[39,17,3,0],[39,20,3,0,"require"],[39,27,3,0],[39,28,3,0,"_dependencyMap"],[39,42,3,0],[40,2,3,0],[40,6,3,0,"Crypto"],[40,12,3,0],[40,15,3,0,"_interopNamespace"],[40,32,3,0],[40,33,3,0,"_expoCrypto"],[40,44,3,0],[41,2,4,0],[41,6,4,0,"_axios"],[41,12,4,0],[41,15,4,0,"require"],[41,22,4,0],[41,23,4,0,"_dependencyMap"],[41,37,4,0],[42,2,4,0],[42,6,4,0,"axios"],[42,11,4,0],[42,14,4,0,"_interopDefault"],[42,29,4,0],[42,30,4,0,"_axios"],[42,36,4,0],[43,2,7,0],[43,6,7,6,"API_URL"],[43,13,7,13],[43,16,7,13,"_expoVirtualEnv"],[43,31,7,13],[43,32,7,13,"env"],[43,35,7,13],[43,36,7,13,"EXPO_PUBLIC_BACKEND_URL"],[43,59,7,51],[44,2,27,7],[44,6,27,13,"useAuthStore"],[44,18,27,25],[44,21,27,28],[44,25,27,28,"create"],[44,33,27,34],[44,34,27,34,"create"],[44,40,27,34],[44,42,27,46],[44,43,27,47,"set"],[44,46,27,50],[44,48,27,52,"get"],[44,51,27,55],[44,57,27,61],[45,4,28,2,"user"],[45,8,28,6],[45,10,28,8],[45,14,28,12],[46,4,29,2,"token"],[46,9,29,7],[46,11,29,9],[46,15,29,13],[47,4,30,2,"isLoading"],[47,13,30,11],[47,15,30,13],[47,20,30,18],[48,4,32,2,"hashPin"],[48,11,32,9],[49,6,32,9],[49,10,32,9,"_ref"],[49,14,32,9],[49,21,32,9,"_asyncToGenerator"],[49,38,32,9],[49,39,32,9,"default"],[49,46,32,9],[49,48,32,11],[49,59,32,18,"pin"],[49,62,32,29],[49,64,32,34],[50,8,33,4],[50,12,33,10,"hash"],[50,16,33,14],[50,25,33,23,"Crypto"],[50,31,33,29],[50,32,33,30,"digestStringAsync"],[50,49,33,47],[50,50,34,6,"Crypto"],[50,56,34,12],[50,57,34,13,"CryptoDigestAlgorithm"],[50,78,34,34],[50,79,34,35,"SHA256"],[50,85,34,41],[50,87,35,6,"pin"],[50,90,36,4],[50,91,36,5],[51,8,37,4],[51,15,37,11,"hash"],[51,19,37,15],[52,6,38,2],[52,7,38,3],[53,6,38,3],[53,22,32,2,"hashPin"],[53,29,32,9,"hashPin"],[53,30,32,9,"_x"],[53,32,32,9],[54,8,32,9],[54,15,32,9,"_ref"],[54,19,32,9],[54,20,32,9,"apply"],[54,25,32,9],[54,32,32,9,"arguments"],[54,41,32,9],[55,6,32,9],[56,4,32,9],[56,7,38,3],[57,4,40,2,"register"],[57,12,40,10],[58,6,40,10],[58,10,40,10,"_ref2"],[58,15,40,10],[58,22,40,10,"_asyncToGenerator"],[58,39,40,10],[58,40,40,10,"default"],[58,47,40,10],[58,49,40,12],[58,60,40,19,"username"],[58,68,40,35],[58,70,40,37,"pin"],[58,73,40,48],[58,75,40,53],[59,8,41,4,"set"],[59,11,41,7],[59,12,41,8],[60,10,41,10,"isLoading"],[60,19,41,19],[60,21,41,21],[61,8,41,26],[61,9,41,27],[61,10,41,28],[62,8,42,4],[62,12,42,8],[63,10,43,6],[63,14,43,12,"pinHash"],[63,21,43,19],[63,30,43,28,"get"],[63,33,43,31],[63,34,43,32],[63,35,43,33],[63,36,43,34,"hashPin"],[63,43,43,41],[63,44,43,42,"pin"],[63,47,43,45],[63,48,43,46],[64,10,44,6],[64,14,44,12,"response"],[64,22,44,20],[64,31,44,29,"axios"],[64,36,44,34],[64,37,44,34,"default"],[64,44,44,34],[64,45,44,35,"post"],[64,49,44,39],[64,50,44,40],[64,53,44,43,"API_URL"],[64,60,44,50],[64,81,44,71],[64,83,44,73],[65,12,45,8,"username"],[65,20,45,16],[66,12,46,8,"pin_hash"],[66,20,46,16],[66,22,46,18,"pinHash"],[67,10,47,6],[67,11,47,7],[67,12,47,8],[68,10,49,6],[68,14,49,12,"user"],[68,18,49,16],[68,21,49,19,"response"],[68,29,49,27],[68,30,49,28,"data"],[68,34,49,32],[69,10,50,6],[69,16,50,12,"AsyncStorage"],[69,28,50,24],[69,29,50,24,"default"],[69,36,50,24],[69,37,50,25,"setItem"],[69,44,50,32],[69,45,50,33],[69,51,50,39],[69,53,50,41,"JSON"],[69,57,50,45],[69,58,50,46,"stringify"],[69,67,50,55],[69,68,50,56,"user"],[69,72,50,60],[69,73,50,61],[69,74,50,62],[70,10,51,6],[70,16,51,12,"AsyncStorage"],[70,28,51,24],[70,29,51,24,"default"],[70,36,51,24],[70,37,51,25,"setItem"],[70,44,51,32],[70,45,51,33],[70,55,51,43],[70,57,51,45,"pinHash"],[70,64,51,52],[70,65,51,53],[71,10,52,6,"set"],[71,13,52,9],[71,14,52,10],[72,12,52,12,"user"],[72,16,52,16],[73,12,52,18,"isLoading"],[73,21,52,27],[73,23,52,29],[74,10,52,35],[74,11,52,36],[74,12,52,37],[75,8,53,4],[75,9,53,5],[75,10,53,6],[75,17,53,13,"error"],[75,22,53,23],[75,24,53,25],[76,10,54,6,"set"],[76,13,54,9],[76,14,54,10],[77,12,54,12,"isLoading"],[77,21,54,21],[77,23,54,23],[78,10,54,29],[78,11,54,30],[78,12,54,31],[79,10,55,6],[79,16,55,12],[79,20,55,16,"Error"],[79,25,55,21],[79,26,55,22,"error"],[79,31,55,27],[79,32,55,28,"response"],[79,40,55,36],[79,42,55,38,"data"],[79,46,55,42],[79,48,55,44,"detail"],[79,54,55,50],[79,58,55,54],[79,79,55,75],[79,80,55,76],[80,8,56,4],[81,6,57,2],[81,7,57,3],[82,6,57,3],[82,22,40,2,"register"],[82,30,40,10,"register"],[82,31,40,10,"_x2"],[82,34,40,10],[82,36,40,10,"_x3"],[82,39,40,10],[83,8,40,10],[83,15,40,10,"_ref2"],[83,20,40,10],[83,21,40,10,"apply"],[83,26,40,10],[83,33,40,10,"arguments"],[83,42,40,10],[84,6,40,10],[85,4,40,10],[85,7,57,3],[86,4,59,2,"login"],[86,9,59,7],[87,6,59,7],[87,10,59,7,"_ref3"],[87,15,59,7],[87,22,59,7,"_asyncToGenerator"],[87,39,59,7],[87,40,59,7,"default"],[87,47,59,7],[87,49,59,9],[87,60,59,16,"username"],[87,68,59,32],[87,70,59,34,"pin"],[87,73,59,45],[87,75,59,50],[88,8,60,4,"set"],[88,11,60,7],[88,12,60,8],[89,10,60,10,"isLoading"],[89,19,60,19],[89,21,60,21],[90,8,60,26],[90,9,60,27],[90,10,60,28],[91,8,61,4],[91,12,61,8],[92,10,62,6],[92,14,62,12,"pinHash"],[92,21,62,19],[92,30,62,28,"get"],[92,33,62,31],[92,34,62,32],[92,35,62,33],[92,36,62,34,"hashPin"],[92,43,62,41],[92,44,62,42,"pin"],[92,47,62,45],[92,48,62,46],[93,10,63,6],[93,14,63,12,"response"],[93,22,63,20],[93,31,63,29,"axios"],[93,36,63,34],[93,37,63,34,"default"],[93,44,63,34],[93,45,63,35,"post"],[93,49,63,39],[93,50,63,40],[93,53,63,43,"API_URL"],[93,60,63,50],[93,78,63,68],[93,80,63,70],[94,12,64,8,"username"],[94,20,64,16],[95,12,65,8,"pin_hash"],[95,20,65,16],[95,22,65,18,"pinHash"],[96,10,66,6],[96,11,66,7],[96,12,66,8],[97,10,68,6],[97,14,68,12,"user"],[97,18,68,16],[97,21,68,19,"response"],[97,29,68,27],[97,30,68,28,"data"],[97,34,68,32],[98,10,69,6],[98,16,69,12,"AsyncStorage"],[98,28,69,24],[98,29,69,24,"default"],[98,36,69,24],[98,37,69,25,"setItem"],[98,44,69,32],[98,45,69,33],[98,51,69,39],[98,53,69,41,"JSON"],[98,57,69,45],[98,58,69,46,"stringify"],[98,67,69,55],[98,68,69,56,"user"],[98,72,69,60],[98,73,69,61],[98,74,69,62],[99,10,70,6],[99,16,70,12,"AsyncStorage"],[99,28,70,24],[99,29,70,24,"default"],[99,36,70,24],[99,37,70,25,"setItem"],[99,44,70,32],[99,45,70,33],[99,55,70,43],[99,57,70,45,"pinHash"],[99,64,70,52],[99,65,70,53],[100,10,71,6,"set"],[100,13,71,9],[100,14,71,10],[101,12,71,12,"user"],[101,16,71,16],[102,12,71,18,"isLoading"],[102,21,71,27],[102,23,71,29],[103,10,71,35],[103,11,71,36],[103,12,71,37],[104,8,72,4],[104,9,72,5],[104,10,72,6],[104,17,72,13,"error"],[104,22,72,23],[104,24,72,25],[105,10,73,6,"set"],[105,13,73,9],[105,14,73,10],[106,12,73,12,"isLoading"],[106,21,73,21],[106,23,73,23],[107,10,73,29],[107,11,73,30],[107,12,73,31],[108,10,74,6],[108,16,74,12],[108,20,74,16,"Error"],[108,25,74,21],[108,26,74,22,"error"],[108,31,74,27],[108,32,74,28,"response"],[108,40,74,36],[108,42,74,38,"data"],[108,46,74,42],[108,48,74,44,"detail"],[108,54,74,50],[108,58,74,54],[108,72,74,68],[108,73,74,69],[109,8,75,4],[110,6,76,2],[110,7,76,3],[111,6,76,3],[111,22,59,2,"login"],[111,27,59,7,"login"],[111,28,59,7,"_x4"],[111,31,59,7],[111,33,59,7,"_x5"],[111,36,59,7],[112,8,59,7],[112,15,59,7,"_ref3"],[112,20,59,7],[112,21,59,7,"apply"],[112,26,59,7],[112,33,59,7,"arguments"],[112,42,59,7],[113,6,59,7],[114,4,59,7],[114,7,76,3],[115,4,78,2,"logout"],[115,10,78,8],[116,6,78,8],[116,10,78,8,"_ref4"],[116,15,78,8],[116,22,78,8,"_asyncToGenerator"],[116,39,78,8],[116,40,78,8,"default"],[116,47,78,8],[116,49,78,10],[116,62,78,22],[117,8,79,4],[117,14,79,10,"AsyncStorage"],[117,26,79,22],[117,27,79,22,"default"],[117,34,79,22],[117,35,79,23,"removeItem"],[117,45,79,33],[117,46,79,34],[117,52,79,40],[117,53,79,41],[118,8,80,4],[118,14,80,10,"AsyncStorage"],[118,26,80,22],[118,27,80,22,"default"],[118,34,80,22],[118,35,80,23,"removeItem"],[118,45,80,33],[118,46,80,34],[118,56,80,44],[118,57,80,45],[119,8,81,4,"set"],[119,11,81,7],[119,12,81,8],[120,10,81,10,"user"],[120,14,81,14],[120,16,81,16],[120,20,81,20],[121,10,81,22,"token"],[121,15,81,27],[121,17,81,29],[122,8,81,34],[122,9,81,35],[122,10,81,36],[123,6,82,2],[123,7,82,3],[124,6,82,3],[124,22,78,2,"logout"],[124,28,78,8,"logout"],[124,29,78,8],[125,8,78,8],[125,15,78,8,"_ref4"],[125,20,78,8],[125,21,78,8,"apply"],[125,26,78,8],[125,33,78,8,"arguments"],[125,42,78,8],[126,6,78,8],[127,4,78,8],[127,7,82,3],[128,4,84,2,"checkAuth"],[128,13,84,11],[129,6,84,11],[129,10,84,11,"_ref5"],[129,15,84,11],[129,22,84,11,"_asyncToGenerator"],[129,39,84,11],[129,40,84,11,"default"],[129,47,84,11],[129,49,84,13],[129,62,84,25],[130,8,85,4],[130,12,85,8],[131,10,86,6],[131,14,86,12,"userStr"],[131,21,86,19],[131,30,86,28,"AsyncStorage"],[131,42,86,40],[131,43,86,40,"default"],[131,50,86,40],[131,51,86,41,"getItem"],[131,58,86,48],[131,59,86,49],[131,65,86,55],[131,66,86,56],[132,10,87,6],[132,14,87,10,"userStr"],[132,21,87,17],[132,23,87,19],[133,12,88,8],[133,16,88,14,"user"],[133,20,88,18],[133,23,88,21,"JSON"],[133,27,88,25],[133,28,88,26,"parse"],[133,33,88,31],[133,34,88,32,"userStr"],[133,41,88,39],[133,42,88,40],[134,12,89,8,"set"],[134,15,89,11],[134,16,89,12],[135,14,89,14,"user"],[136,12,89,19],[136,13,89,20],[136,14,89,21],[137,10,90,6],[138,8,91,4],[138,9,91,5],[138,10,91,6],[138,17,91,13,"error"],[138,22,91,18],[138,24,91,20],[139,10,92,6,"console"],[139,17,92,13],[139,18,92,14,"error"],[139,23,92,19],[139,24,92,20],[139,44,92,40],[139,46,92,42,"error"],[139,51,92,47],[139,52,92,48],[140,8,93,4],[141,6,94,2],[141,7,94,3],[142,6,94,3],[142,22,84,2,"checkAuth"],[142,31,84,11,"checkAuth"],[142,32,84,11],[143,8,84,11],[143,15,84,11,"_ref5"],[143,20,84,11],[143,21,84,11,"apply"],[143,26,84,11],[143,33,84,11,"arguments"],[143,42,84,11],[144,6,84,11],[145,4,84,11],[146,2,95,0],[146,3,95,1],[146,4,95,2],[146,5,95,3],[147,0,95,4],[147,3]],"functionMap":{"names":["<global>","create$argument_0","hashPin","register","login","logout","checkAuth"],"mappings":"AAA;8CC0B;WCK;GDM;YEE;GFiB;SGE;GHiB;UIE;GJI;aKE;GLU;EDC"},"hasCjsExports":false},"type":"js/module"}]}