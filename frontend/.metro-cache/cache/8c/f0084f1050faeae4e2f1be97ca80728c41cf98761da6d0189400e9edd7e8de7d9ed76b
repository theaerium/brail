{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-crypto","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":38,"index":142}}],"key":"+Akla+LrhuGGU54C9zXxLPlFUv4=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":143},"end":{"line":4,"column":26,"index":169}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoCrypto = require(_dependencyMap[2], \"expo-crypto\");\n  var Crypto = _interopNamespace(_expoCrypto);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: false,\n    hashPin: async pin => {\n      const hash = await Crypto.digestStringAsync(Crypto.CryptoDigestAlgorithm.SHA256, pin);\n      return hash;\n    },\n    register: async (username, pin) => {\n      set({\n        isLoading: true\n      });\n      try {\n        const pinHash = await get().hashPin(pin);\n        const response = await axios.default.post(`${API_URL}/api/users/register`, {\n          username,\n          pin_hash: pinHash\n        });\n        const user = response.data;\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        await AsyncStorage.default.setItem('pin_hash', pinHash);\n        set({\n          user,\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    login: async (username, pin) => {\n      set({\n        isLoading: true\n      });\n      try {\n        const pinHash = await get().hashPin(pin);\n        const response = await axios.default.post(`${API_URL}/api/users/login`, {\n          username,\n          pin_hash: pinHash\n        });\n        const user = response.data;\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        await AsyncStorage.default.setItem('pin_hash', pinHash);\n        set({\n          user,\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    logout: async () => {\n      await AsyncStorage.default.removeItem('user');\n      await AsyncStorage.default.removeItem('pin_hash');\n      set({\n        user: null,\n        token: null\n      });\n    },\n    checkAuth: async () => {\n      try {\n        const userStr = await AsyncStorage.default.getItem('user');\n        if (userStr) {\n          const user = JSON.parse(userStr);\n          set({\n            user\n          });\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n      }\n    }\n  }));\n});","lineCount":119,"map":[[27,2,27,0,"Object"],[27,8,27,0],[27,9,27,0,"defineProperty"],[27,23,27,0],[27,24,27,0,"exports"],[27,31,27,0],[28,4,27,0,"enumerable"],[28,14,27,0],[29,4,27,0,"get"],[29,7,27,0],[29,18,27,0,"get"],[29,19,27,0],[30,6,27,0],[30,13,27,0,"useAuthStore"],[30,25,27,0],[31,4,27,0],[32,2,27,0],[33,2,1,0],[33,6,1,0,"_zustand"],[33,14,1,0],[33,17,1,0,"require"],[33,24,1,0],[33,25,1,0,"_dependencyMap"],[33,39,1,0],[34,2,2,0],[34,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[34,42,2,0],[34,45,2,0,"require"],[34,52,2,0],[34,53,2,0,"_dependencyMap"],[34,67,2,0],[35,2,2,0],[35,6,2,0,"AsyncStorage"],[35,18,2,0],[35,21,2,0,"_interopDefault"],[35,36,2,0],[35,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[35,73,2,0],[36,2,3,0],[36,6,3,0,"_expoCrypto"],[36,17,3,0],[36,20,3,0,"require"],[36,27,3,0],[36,28,3,0,"_dependencyMap"],[36,42,3,0],[37,2,3,0],[37,6,3,0,"Crypto"],[37,12,3,0],[37,15,3,0,"_interopNamespace"],[37,32,3,0],[37,33,3,0,"_expoCrypto"],[37,44,3,0],[38,2,4,0],[38,6,4,0,"_axios"],[38,12,4,0],[38,15,4,0,"require"],[38,22,4,0],[38,23,4,0,"_dependencyMap"],[38,37,4,0],[39,2,4,0],[39,6,4,0,"axios"],[39,11,4,0],[39,14,4,0,"_interopDefault"],[39,29,4,0],[39,30,4,0,"_axios"],[39,36,4,0],[40,2,7,0],[40,8,7,6,"API_URL"],[40,15,7,13],[40,18,7,16,"process"],[40,25,7,23],[40,26,7,24,"env"],[40,29,7,27],[40,30,7,28,"EXPO_PUBLIC_BACKEND_URL"],[40,53,7,51],[41,2,27,7],[41,8,27,13,"useAuthStore"],[41,20,27,25],[41,23,27,28],[41,27,27,28,"create"],[41,35,27,34],[41,36,27,34,"create"],[41,42,27,34],[41,44,27,46],[41,45,27,47,"set"],[41,48,27,50],[41,50,27,52,"get"],[41,53,27,55],[41,59,27,61],[42,4,28,2,"user"],[42,8,28,6],[42,10,28,8],[42,14,28,12],[43,4,29,2,"token"],[43,9,29,7],[43,11,29,9],[43,15,29,13],[44,4,30,2,"isLoading"],[44,13,30,11],[44,15,30,13],[44,20,30,18],[45,4,32,2,"hashPin"],[45,11,32,9],[45,13,32,11],[45,19,32,18,"pin"],[45,22,32,29],[45,26,32,34],[46,6,33,4],[46,12,33,10,"hash"],[46,16,33,14],[46,19,33,17],[46,25,33,23,"Crypto"],[46,31,33,29],[46,32,33,30,"digestStringAsync"],[46,49,33,47],[46,50,34,6,"Crypto"],[46,56,34,12],[46,57,34,13,"CryptoDigestAlgorithm"],[46,78,34,34],[46,79,34,35,"SHA256"],[46,85,34,41],[46,87,35,6,"pin"],[46,90,36,4],[46,91,36,5],[47,6,37,4],[47,13,37,11,"hash"],[47,17,37,15],[48,4,38,2],[48,5,38,3],[49,4,40,2,"register"],[49,12,40,10],[49,14,40,12],[49,20,40,12,"register"],[49,21,40,19,"username"],[49,29,40,35],[49,31,40,37,"pin"],[49,34,40,48],[49,39,40,53],[50,6,41,4,"set"],[50,9,41,7],[50,10,41,8],[51,8,41,10,"isLoading"],[51,17,41,19],[51,19,41,21],[52,6,41,26],[52,7,41,27],[52,8,41,28],[53,6,42,4],[53,10,42,8],[54,8,43,6],[54,14,43,12,"pinHash"],[54,21,43,19],[54,24,43,22],[54,30,43,28,"get"],[54,33,43,31],[54,34,43,32],[54,35,43,33],[54,36,43,34,"hashPin"],[54,43,43,41],[54,44,43,42,"pin"],[54,47,43,45],[54,48,43,46],[55,8,44,6],[55,14,44,12,"response"],[55,22,44,20],[55,25,44,23],[55,31,44,29,"axios"],[55,36,44,34],[55,37,44,34,"default"],[55,44,44,34],[55,45,44,35,"post"],[55,49,44,39],[55,50,44,40],[55,53,44,43,"API_URL"],[55,60,44,50],[55,81,44,71],[55,83,44,73],[56,10,45,8,"username"],[56,18,45,16],[57,10,46,8,"pin_hash"],[57,18,46,16],[57,20,46,18,"pinHash"],[58,8,47,6],[58,9,47,7],[58,10,47,8],[59,8,49,6],[59,14,49,12,"user"],[59,18,49,16],[59,21,49,19,"response"],[59,29,49,27],[59,30,49,28,"data"],[59,34,49,32],[60,8,50,6],[60,14,50,12,"AsyncStorage"],[60,26,50,24],[60,27,50,24,"default"],[60,34,50,24],[60,35,50,25,"setItem"],[60,42,50,32],[60,43,50,33],[60,49,50,39],[60,51,50,41,"JSON"],[60,55,50,45],[60,56,50,46,"stringify"],[60,65,50,55],[60,66,50,56,"user"],[60,70,50,60],[60,71,50,61],[60,72,50,62],[61,8,51,6],[61,14,51,12,"AsyncStorage"],[61,26,51,24],[61,27,51,24,"default"],[61,34,51,24],[61,35,51,25,"setItem"],[61,42,51,32],[61,43,51,33],[61,53,51,43],[61,55,51,45,"pinHash"],[61,62,51,52],[61,63,51,53],[62,8,52,6,"set"],[62,11,52,9],[62,12,52,10],[63,10,52,12,"user"],[63,14,52,16],[64,10,52,18,"isLoading"],[64,19,52,27],[64,21,52,29],[65,8,52,35],[65,9,52,36],[65,10,52,37],[66,6,53,4],[66,7,53,5],[66,8,53,6],[66,15,53,13,"error"],[66,20,53,23],[66,22,53,25],[67,8,54,6,"set"],[67,11,54,9],[67,12,54,10],[68,10,54,12,"isLoading"],[68,19,54,21],[68,21,54,23],[69,8,54,29],[69,9,54,30],[69,10,54,31],[70,8,55,6],[70,14,55,12],[70,18,55,16,"Error"],[70,23,55,21],[70,24,55,22,"error"],[70,29,55,27],[70,30,55,28,"response"],[70,38,55,36],[70,40,55,38,"data"],[70,44,55,42],[70,46,55,44,"detail"],[70,52,55,50],[70,56,55,54],[70,77,55,75],[70,78,55,76],[71,6,56,4],[72,4,57,2],[72,5,57,3],[73,4,59,2,"login"],[73,9,59,7],[73,11,59,9],[73,17,59,9,"login"],[73,18,59,16,"username"],[73,26,59,32],[73,28,59,34,"pin"],[73,31,59,45],[73,36,59,50],[74,6,60,4,"set"],[74,9,60,7],[74,10,60,8],[75,8,60,10,"isLoading"],[75,17,60,19],[75,19,60,21],[76,6,60,26],[76,7,60,27],[76,8,60,28],[77,6,61,4],[77,10,61,8],[78,8,62,6],[78,14,62,12,"pinHash"],[78,21,62,19],[78,24,62,22],[78,30,62,28,"get"],[78,33,62,31],[78,34,62,32],[78,35,62,33],[78,36,62,34,"hashPin"],[78,43,62,41],[78,44,62,42,"pin"],[78,47,62,45],[78,48,62,46],[79,8,63,6],[79,14,63,12,"response"],[79,22,63,20],[79,25,63,23],[79,31,63,29,"axios"],[79,36,63,34],[79,37,63,34,"default"],[79,44,63,34],[79,45,63,35,"post"],[79,49,63,39],[79,50,63,40],[79,53,63,43,"API_URL"],[79,60,63,50],[79,78,63,68],[79,80,63,70],[80,10,64,8,"username"],[80,18,64,16],[81,10,65,8,"pin_hash"],[81,18,65,16],[81,20,65,18,"pinHash"],[82,8,66,6],[82,9,66,7],[82,10,66,8],[83,8,68,6],[83,14,68,12,"user"],[83,18,68,16],[83,21,68,19,"response"],[83,29,68,27],[83,30,68,28,"data"],[83,34,68,32],[84,8,69,6],[84,14,69,12,"AsyncStorage"],[84,26,69,24],[84,27,69,24,"default"],[84,34,69,24],[84,35,69,25,"setItem"],[84,42,69,32],[84,43,69,33],[84,49,69,39],[84,51,69,41,"JSON"],[84,55,69,45],[84,56,69,46,"stringify"],[84,65,69,55],[84,66,69,56,"user"],[84,70,69,60],[84,71,69,61],[84,72,69,62],[85,8,70,6],[85,14,70,12,"AsyncStorage"],[85,26,70,24],[85,27,70,24,"default"],[85,34,70,24],[85,35,70,25,"setItem"],[85,42,70,32],[85,43,70,33],[85,53,70,43],[85,55,70,45,"pinHash"],[85,62,70,52],[85,63,70,53],[86,8,71,6,"set"],[86,11,71,9],[86,12,71,10],[87,10,71,12,"user"],[87,14,71,16],[88,10,71,18,"isLoading"],[88,19,71,27],[88,21,71,29],[89,8,71,35],[89,9,71,36],[89,10,71,37],[90,6,72,4],[90,7,72,5],[90,8,72,6],[90,15,72,13,"error"],[90,20,72,23],[90,22,72,25],[91,8,73,6,"set"],[91,11,73,9],[91,12,73,10],[92,10,73,12,"isLoading"],[92,19,73,21],[92,21,73,23],[93,8,73,29],[93,9,73,30],[93,10,73,31],[94,8,74,6],[94,14,74,12],[94,18,74,16,"Error"],[94,23,74,21],[94,24,74,22,"error"],[94,29,74,27],[94,30,74,28,"response"],[94,38,74,36],[94,40,74,38,"data"],[94,44,74,42],[94,46,74,44,"detail"],[94,52,74,50],[94,56,74,54],[94,70,74,68],[94,71,74,69],[95,6,75,4],[96,4,76,2],[96,5,76,3],[97,4,78,2,"logout"],[97,10,78,8],[97,12,78,10],[97,18,78,10,"logout"],[97,19,78,10],[97,24,78,22],[98,6,79,4],[98,12,79,10,"AsyncStorage"],[98,24,79,22],[98,25,79,22,"default"],[98,32,79,22],[98,33,79,23,"removeItem"],[98,43,79,33],[98,44,79,34],[98,50,79,40],[98,51,79,41],[99,6,80,4],[99,12,80,10,"AsyncStorage"],[99,24,80,22],[99,25,80,22,"default"],[99,32,80,22],[99,33,80,23,"removeItem"],[99,43,80,33],[99,44,80,34],[99,54,80,44],[99,55,80,45],[100,6,81,4,"set"],[100,9,81,7],[100,10,81,8],[101,8,81,10,"user"],[101,12,81,14],[101,14,81,16],[101,18,81,20],[102,8,81,22,"token"],[102,13,81,27],[102,15,81,29],[103,6,81,34],[103,7,81,35],[103,8,81,36],[104,4,82,2],[104,5,82,3],[105,4,84,2,"checkAuth"],[105,13,84,11],[105,15,84,13],[105,21,84,13,"checkAuth"],[105,22,84,13],[105,27,84,25],[106,6,85,4],[106,10,85,8],[107,8,86,6],[107,14,86,12,"userStr"],[107,21,86,19],[107,24,86,22],[107,30,86,28,"AsyncStorage"],[107,42,86,40],[107,43,86,40,"default"],[107,50,86,40],[107,51,86,41,"getItem"],[107,58,86,48],[107,59,86,49],[107,65,86,55],[107,66,86,56],[108,8,87,6],[108,12,87,10,"userStr"],[108,19,87,17],[108,21,87,19],[109,10,88,8],[109,16,88,14,"user"],[109,20,88,18],[109,23,88,21,"JSON"],[109,27,88,25],[109,28,88,26,"parse"],[109,33,88,31],[109,34,88,32,"userStr"],[109,41,88,39],[109,42,88,40],[110,10,89,8,"set"],[110,13,89,11],[110,14,89,12],[111,12,89,14,"user"],[112,10,89,19],[112,11,89,20],[112,12,89,21],[113,8,90,6],[114,6,91,4],[114,7,91,5],[114,8,91,6],[114,15,91,13,"error"],[114,20,91,18],[114,22,91,20],[115,8,92,6,"console"],[115,15,92,13],[115,16,92,14,"error"],[115,21,92,19],[115,22,92,20],[115,42,92,40],[115,44,92,42,"error"],[115,49,92,47],[115,50,92,48],[116,6,93,4],[117,4,94,2],[118,2,95,0],[118,3,95,1],[118,4,95,2],[118,5,95,3],[119,0,95,4],[119,3]],"functionMap":{"names":["<global>","create$argument_0","hashPin","register","login","logout","checkAuth"],"mappings":"AAA;8CC0B;WCK;GDM;YEE;GFiB;SGE;GHiB;UIE;GJI;aKE;GLU;EDC"},"hasCjsExports":false},"type":"js/module"}]}