{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-crypto","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":38,"index":142}}],"key":"+Akla+LrhuGGU54C9zXxLPlFUv4=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":143},"end":{"line":4,"column":26,"index":169}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoCrypto = require(_dependencyMap[3], \"expo-crypto\");\n  var Crypto = _interopNamespace(_expoCrypto);\n  var _axios = require(_dependencyMap[4], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: false,\n    hashPin: async pin => {\n      const hash = await Crypto.digestStringAsync(Crypto.CryptoDigestAlgorithm.SHA256, pin);\n      return hash;\n    },\n    register: async (username, pin) => {\n      set({\n        isLoading: true\n      });\n      try {\n        const pinHash = await get().hashPin(pin);\n        const response = await axios.default.post(`${API_URL}/api/users/register`, {\n          username,\n          pin_hash: pinHash\n        });\n        const user = response.data;\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        await AsyncStorage.default.setItem('pin_hash', pinHash);\n        set({\n          user,\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    login: async (username, pin) => {\n      set({\n        isLoading: true\n      });\n      try {\n        const pinHash = await get().hashPin(pin);\n        const response = await axios.default.post(`${API_URL}/api/users/login`, {\n          username,\n          pin_hash: pinHash\n        });\n        const user = response.data;\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        await AsyncStorage.default.setItem('pin_hash', pinHash);\n        set({\n          user,\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    logout: async () => {\n      await AsyncStorage.default.removeItem('user');\n      await AsyncStorage.default.removeItem('pin_hash');\n      set({\n        user: null,\n        token: null\n      });\n    },\n    checkAuth: async () => {\n      try {\n        const userStr = await AsyncStorage.default.getItem('user');\n        if (userStr) {\n          const user = JSON.parse(userStr);\n          set({\n            user\n          });\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n      }\n    }\n  }));\n});","lineCount":120,"map":[[27,2,27,0,"Object"],[27,8,27,0],[27,9,27,0,"defineProperty"],[27,23,27,0],[27,24,27,0,"exports"],[27,31,27,0],[28,4,27,0,"enumerable"],[28,14,27,0],[29,4,27,0,"get"],[29,7,27,0],[29,18,27,0,"get"],[29,19,27,0],[30,6,27,0],[30,13,27,0,"useAuthStore"],[30,25,27,0],[31,4,27,0],[32,2,27,0],[33,2,95,4],[33,6,95,4,"_expoVirtualEnv"],[33,21,95,4],[33,24,95,4,"require"],[33,31,95,4],[33,32,95,4,"_dependencyMap"],[33,46,95,4],[34,2,1,0],[34,6,1,0,"_zustand"],[34,14,1,0],[34,17,1,0,"require"],[34,24,1,0],[34,25,1,0,"_dependencyMap"],[34,39,1,0],[35,2,2,0],[35,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[35,42,2,0],[35,45,2,0,"require"],[35,52,2,0],[35,53,2,0,"_dependencyMap"],[35,67,2,0],[36,2,2,0],[36,6,2,0,"AsyncStorage"],[36,18,2,0],[36,21,2,0,"_interopDefault"],[36,36,2,0],[36,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[36,73,2,0],[37,2,3,0],[37,6,3,0,"_expoCrypto"],[37,17,3,0],[37,20,3,0,"require"],[37,27,3,0],[37,28,3,0,"_dependencyMap"],[37,42,3,0],[38,2,3,0],[38,6,3,0,"Crypto"],[38,12,3,0],[38,15,3,0,"_interopNamespace"],[38,32,3,0],[38,33,3,0,"_expoCrypto"],[38,44,3,0],[39,2,4,0],[39,6,4,0,"_axios"],[39,12,4,0],[39,15,4,0,"require"],[39,22,4,0],[39,23,4,0,"_dependencyMap"],[39,37,4,0],[40,2,4,0],[40,6,4,0,"axios"],[40,11,4,0],[40,14,4,0,"_interopDefault"],[40,29,4,0],[40,30,4,0,"_axios"],[40,36,4,0],[41,2,7,0],[41,8,7,6,"API_URL"],[41,15,7,13],[41,18,7,13,"_expoVirtualEnv"],[41,33,7,13],[41,34,7,13,"env"],[41,37,7,13],[41,38,7,13,"EXPO_PUBLIC_BACKEND_URL"],[41,61,7,51],[42,2,27,7],[42,8,27,13,"useAuthStore"],[42,20,27,25],[42,23,27,28],[42,27,27,28,"create"],[42,35,27,34],[42,36,27,34,"create"],[42,42,27,34],[42,44,27,46],[42,45,27,47,"set"],[42,48,27,50],[42,50,27,52,"get"],[42,53,27,55],[42,59,27,61],[43,4,28,2,"user"],[43,8,28,6],[43,10,28,8],[43,14,28,12],[44,4,29,2,"token"],[44,9,29,7],[44,11,29,9],[44,15,29,13],[45,4,30,2,"isLoading"],[45,13,30,11],[45,15,30,13],[45,20,30,18],[46,4,32,2,"hashPin"],[46,11,32,9],[46,13,32,11],[46,19,32,18,"pin"],[46,22,32,29],[46,26,32,34],[47,6,33,4],[47,12,33,10,"hash"],[47,16,33,14],[47,19,33,17],[47,25,33,23,"Crypto"],[47,31,33,29],[47,32,33,30,"digestStringAsync"],[47,49,33,47],[47,50,34,6,"Crypto"],[47,56,34,12],[47,57,34,13,"CryptoDigestAlgorithm"],[47,78,34,34],[47,79,34,35,"SHA256"],[47,85,34,41],[47,87,35,6,"pin"],[47,90,36,4],[47,91,36,5],[48,6,37,4],[48,13,37,11,"hash"],[48,17,37,15],[49,4,38,2],[49,5,38,3],[50,4,40,2,"register"],[50,12,40,10],[50,14,40,12],[50,20,40,12,"register"],[50,21,40,19,"username"],[50,29,40,35],[50,31,40,37,"pin"],[50,34,40,48],[50,39,40,53],[51,6,41,4,"set"],[51,9,41,7],[51,10,41,8],[52,8,41,10,"isLoading"],[52,17,41,19],[52,19,41,21],[53,6,41,26],[53,7,41,27],[53,8,41,28],[54,6,42,4],[54,10,42,8],[55,8,43,6],[55,14,43,12,"pinHash"],[55,21,43,19],[55,24,43,22],[55,30,43,28,"get"],[55,33,43,31],[55,34,43,32],[55,35,43,33],[55,36,43,34,"hashPin"],[55,43,43,41],[55,44,43,42,"pin"],[55,47,43,45],[55,48,43,46],[56,8,44,6],[56,14,44,12,"response"],[56,22,44,20],[56,25,44,23],[56,31,44,29,"axios"],[56,36,44,34],[56,37,44,34,"default"],[56,44,44,34],[56,45,44,35,"post"],[56,49,44,39],[56,50,44,40],[56,53,44,43,"API_URL"],[56,60,44,50],[56,81,44,71],[56,83,44,73],[57,10,45,8,"username"],[57,18,45,16],[58,10,46,8,"pin_hash"],[58,18,46,16],[58,20,46,18,"pinHash"],[59,8,47,6],[59,9,47,7],[59,10,47,8],[60,8,49,6],[60,14,49,12,"user"],[60,18,49,16],[60,21,49,19,"response"],[60,29,49,27],[60,30,49,28,"data"],[60,34,49,32],[61,8,50,6],[61,14,50,12,"AsyncStorage"],[61,26,50,24],[61,27,50,24,"default"],[61,34,50,24],[61,35,50,25,"setItem"],[61,42,50,32],[61,43,50,33],[61,49,50,39],[61,51,50,41,"JSON"],[61,55,50,45],[61,56,50,46,"stringify"],[61,65,50,55],[61,66,50,56,"user"],[61,70,50,60],[61,71,50,61],[61,72,50,62],[62,8,51,6],[62,14,51,12,"AsyncStorage"],[62,26,51,24],[62,27,51,24,"default"],[62,34,51,24],[62,35,51,25,"setItem"],[62,42,51,32],[62,43,51,33],[62,53,51,43],[62,55,51,45,"pinHash"],[62,62,51,52],[62,63,51,53],[63,8,52,6,"set"],[63,11,52,9],[63,12,52,10],[64,10,52,12,"user"],[64,14,52,16],[65,10,52,18,"isLoading"],[65,19,52,27],[65,21,52,29],[66,8,52,35],[66,9,52,36],[66,10,52,37],[67,6,53,4],[67,7,53,5],[67,8,53,6],[67,15,53,13,"error"],[67,20,53,23],[67,22,53,25],[68,8,54,6,"set"],[68,11,54,9],[68,12,54,10],[69,10,54,12,"isLoading"],[69,19,54,21],[69,21,54,23],[70,8,54,29],[70,9,54,30],[70,10,54,31],[71,8,55,6],[71,14,55,12],[71,18,55,16,"Error"],[71,23,55,21],[71,24,55,22,"error"],[71,29,55,27],[71,30,55,28,"response"],[71,38,55,36],[71,40,55,38,"data"],[71,44,55,42],[71,46,55,44,"detail"],[71,52,55,50],[71,56,55,54],[71,77,55,75],[71,78,55,76],[72,6,56,4],[73,4,57,2],[73,5,57,3],[74,4,59,2,"login"],[74,9,59,7],[74,11,59,9],[74,17,59,9,"login"],[74,18,59,16,"username"],[74,26,59,32],[74,28,59,34,"pin"],[74,31,59,45],[74,36,59,50],[75,6,60,4,"set"],[75,9,60,7],[75,10,60,8],[76,8,60,10,"isLoading"],[76,17,60,19],[76,19,60,21],[77,6,60,26],[77,7,60,27],[77,8,60,28],[78,6,61,4],[78,10,61,8],[79,8,62,6],[79,14,62,12,"pinHash"],[79,21,62,19],[79,24,62,22],[79,30,62,28,"get"],[79,33,62,31],[79,34,62,32],[79,35,62,33],[79,36,62,34,"hashPin"],[79,43,62,41],[79,44,62,42,"pin"],[79,47,62,45],[79,48,62,46],[80,8,63,6],[80,14,63,12,"response"],[80,22,63,20],[80,25,63,23],[80,31,63,29,"axios"],[80,36,63,34],[80,37,63,34,"default"],[80,44,63,34],[80,45,63,35,"post"],[80,49,63,39],[80,50,63,40],[80,53,63,43,"API_URL"],[80,60,63,50],[80,78,63,68],[80,80,63,70],[81,10,64,8,"username"],[81,18,64,16],[82,10,65,8,"pin_hash"],[82,18,65,16],[82,20,65,18,"pinHash"],[83,8,66,6],[83,9,66,7],[83,10,66,8],[84,8,68,6],[84,14,68,12,"user"],[84,18,68,16],[84,21,68,19,"response"],[84,29,68,27],[84,30,68,28,"data"],[84,34,68,32],[85,8,69,6],[85,14,69,12,"AsyncStorage"],[85,26,69,24],[85,27,69,24,"default"],[85,34,69,24],[85,35,69,25,"setItem"],[85,42,69,32],[85,43,69,33],[85,49,69,39],[85,51,69,41,"JSON"],[85,55,69,45],[85,56,69,46,"stringify"],[85,65,69,55],[85,66,69,56,"user"],[85,70,69,60],[85,71,69,61],[85,72,69,62],[86,8,70,6],[86,14,70,12,"AsyncStorage"],[86,26,70,24],[86,27,70,24,"default"],[86,34,70,24],[86,35,70,25,"setItem"],[86,42,70,32],[86,43,70,33],[86,53,70,43],[86,55,70,45,"pinHash"],[86,62,70,52],[86,63,70,53],[87,8,71,6,"set"],[87,11,71,9],[87,12,71,10],[88,10,71,12,"user"],[88,14,71,16],[89,10,71,18,"isLoading"],[89,19,71,27],[89,21,71,29],[90,8,71,35],[90,9,71,36],[90,10,71,37],[91,6,72,4],[91,7,72,5],[91,8,72,6],[91,15,72,13,"error"],[91,20,72,23],[91,22,72,25],[92,8,73,6,"set"],[92,11,73,9],[92,12,73,10],[93,10,73,12,"isLoading"],[93,19,73,21],[93,21,73,23],[94,8,73,29],[94,9,73,30],[94,10,73,31],[95,8,74,6],[95,14,74,12],[95,18,74,16,"Error"],[95,23,74,21],[95,24,74,22,"error"],[95,29,74,27],[95,30,74,28,"response"],[95,38,74,36],[95,40,74,38,"data"],[95,44,74,42],[95,46,74,44,"detail"],[95,52,74,50],[95,56,74,54],[95,70,74,68],[95,71,74,69],[96,6,75,4],[97,4,76,2],[97,5,76,3],[98,4,78,2,"logout"],[98,10,78,8],[98,12,78,10],[98,18,78,10,"logout"],[98,19,78,10],[98,24,78,22],[99,6,79,4],[99,12,79,10,"AsyncStorage"],[99,24,79,22],[99,25,79,22,"default"],[99,32,79,22],[99,33,79,23,"removeItem"],[99,43,79,33],[99,44,79,34],[99,50,79,40],[99,51,79,41],[100,6,80,4],[100,12,80,10,"AsyncStorage"],[100,24,80,22],[100,25,80,22,"default"],[100,32,80,22],[100,33,80,23,"removeItem"],[100,43,80,33],[100,44,80,34],[100,54,80,44],[100,55,80,45],[101,6,81,4,"set"],[101,9,81,7],[101,10,81,8],[102,8,81,10,"user"],[102,12,81,14],[102,14,81,16],[102,18,81,20],[103,8,81,22,"token"],[103,13,81,27],[103,15,81,29],[104,6,81,34],[104,7,81,35],[104,8,81,36],[105,4,82,2],[105,5,82,3],[106,4,84,2,"checkAuth"],[106,13,84,11],[106,15,84,13],[106,21,84,13,"checkAuth"],[106,22,84,13],[106,27,84,25],[107,6,85,4],[107,10,85,8],[108,8,86,6],[108,14,86,12,"userStr"],[108,21,86,19],[108,24,86,22],[108,30,86,28,"AsyncStorage"],[108,42,86,40],[108,43,86,40,"default"],[108,50,86,40],[108,51,86,41,"getItem"],[108,58,86,48],[108,59,86,49],[108,65,86,55],[108,66,86,56],[109,8,87,6],[109,12,87,10,"userStr"],[109,19,87,17],[109,21,87,19],[110,10,88,8],[110,16,88,14,"user"],[110,20,88,18],[110,23,88,21,"JSON"],[110,27,88,25],[110,28,88,26,"parse"],[110,33,88,31],[110,34,88,32,"userStr"],[110,41,88,39],[110,42,88,40],[111,10,89,8,"set"],[111,13,89,11],[111,14,89,12],[112,12,89,14,"user"],[113,10,89,19],[113,11,89,20],[113,12,89,21],[114,8,90,6],[115,6,91,4],[115,7,91,5],[115,8,91,6],[115,15,91,13,"error"],[115,20,91,18],[115,22,91,20],[116,8,92,6,"console"],[116,15,92,13],[116,16,92,14,"error"],[116,21,92,19],[116,22,92,20],[116,42,92,40],[116,44,92,42,"error"],[116,49,92,47],[116,50,92,48],[117,6,93,4],[118,4,94,2],[119,2,95,0],[119,3,95,1],[119,4,95,2],[119,5,95,3],[120,0,95,4],[120,3]],"functionMap":{"names":["<global>","create$argument_0","hashPin","register","login","logout","checkAuth"],"mappings":"AAA;8CC0B;WCK;GDM;YEE;GFiB;SGE;GHiB;UIE;GJI;aKE;GLU;EDC"},"hasCjsExports":false},"type":"js/module"}]}