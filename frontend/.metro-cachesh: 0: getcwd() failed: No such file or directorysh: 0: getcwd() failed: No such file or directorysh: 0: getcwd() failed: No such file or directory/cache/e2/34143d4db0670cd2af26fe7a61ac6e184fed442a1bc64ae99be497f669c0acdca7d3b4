{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-crypto","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":38,"index":142}}],"key":"+Akla+LrhuGGU54C9zXxLPlFUv4=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":143},"end":{"line":4,"column":26,"index":169}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoCrypto = require(_dependencyMap[3], \"expo-crypto\");\n  var Crypto = _interopNamespace(_expoCrypto);\n  var _axios = require(_dependencyMap[4], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: false,\n    hashPin: async pin => {\n      const hash = await Crypto.digestStringAsync(Crypto.CryptoDigestAlgorithm.SHA256, pin);\n      return hash;\n    },\n    setUser: async (user, pinHash) => {\n      if (user) {\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        if (pinHash) {\n          await AsyncStorage.default.setItem('pin_hash', pinHash);\n        }\n        set({\n          user\n        });\n        return;\n      }\n      await AsyncStorage.default.multiRemove(['user', 'pin_hash']);\n      set({\n        user: null,\n        token: null\n      });\n    },\n    register: async (username, pin) => {\n      set({\n        isLoading: true\n      });\n      try {\n        const pinHash = await get().hashPin(pin);\n        const response = await axios.default.post(`${API_URL}/api/users/register`, {\n          username,\n          pin_hash: pinHash\n        });\n        const user = response.data;\n        await get().setUser(user, pinHash);\n        set({\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    login: async (username, pin) => {\n      set({\n        isLoading: true\n      });\n      try {\n        const pinHash = await get().hashPin(pin);\n        const response = await axios.default.post(`${API_URL}/api/users/login`, {\n          username,\n          pin_hash: pinHash\n        });\n        const user = response.data;\n        await get().setUser(user, pinHash);\n        set({\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    logout: async () => {\n      await get().setUser(null);\n    },\n    checkAuth: async () => {\n      try {\n        const userStr = await AsyncStorage.default.getItem('user');\n        if (userStr) {\n          const user = JSON.parse(userStr);\n          set({\n            user\n          });\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n      }\n    }\n  }));\n});","lineCount":128,"map":[[27,2,36,0,"Object"],[27,8,36,0],[27,9,36,0,"defineProperty"],[27,23,36,0],[27,24,36,0,"exports"],[27,31,36,0],[28,4,36,0,"enumerable"],[28,14,36,0],[29,4,36,0,"get"],[29,7,36,0],[29,18,36,0,"get"],[29,19,36,0],[30,6,36,0],[30,13,36,0,"useAuthStore"],[30,25,36,0],[31,4,36,0],[32,2,36,0],[33,2,114,4],[33,6,114,4,"_expoVirtualEnv"],[33,21,114,4],[33,24,114,4,"require"],[33,31,114,4],[33,32,114,4,"_dependencyMap"],[33,46,114,4],[34,2,1,0],[34,6,1,0,"_zustand"],[34,14,1,0],[34,17,1,0,"require"],[34,24,1,0],[34,25,1,0,"_dependencyMap"],[34,39,1,0],[35,2,2,0],[35,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[35,42,2,0],[35,45,2,0,"require"],[35,52,2,0],[35,53,2,0,"_dependencyMap"],[35,67,2,0],[36,2,2,0],[36,6,2,0,"AsyncStorage"],[36,18,2,0],[36,21,2,0,"_interopDefault"],[36,36,2,0],[36,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[36,73,2,0],[37,2,3,0],[37,6,3,0,"_expoCrypto"],[37,17,3,0],[37,20,3,0,"require"],[37,27,3,0],[37,28,3,0,"_dependencyMap"],[37,42,3,0],[38,2,3,0],[38,6,3,0,"Crypto"],[38,12,3,0],[38,15,3,0,"_interopNamespace"],[38,32,3,0],[38,33,3,0,"_expoCrypto"],[38,44,3,0],[39,2,4,0],[39,6,4,0,"_axios"],[39,12,4,0],[39,15,4,0,"require"],[39,22,4,0],[39,23,4,0,"_dependencyMap"],[39,37,4,0],[40,2,4,0],[40,6,4,0,"axios"],[40,11,4,0],[40,14,4,0,"_interopDefault"],[40,29,4,0],[40,30,4,0,"_axios"],[40,36,4,0],[41,2,6,0],[41,8,6,6,"API_URL"],[41,15,6,13],[41,18,6,13,"_expoVirtualEnv"],[41,33,6,13],[41,34,6,13,"env"],[41,37,6,13],[41,38,6,13,"EXPO_PUBLIC_BACKEND_URL"],[41,61,6,51],[42,2,36,7],[42,8,36,13,"useAuthStore"],[42,20,36,25],[42,23,36,28],[42,27,36,28,"create"],[42,35,36,34],[42,36,36,34,"create"],[42,42,36,34],[42,44,36,46],[42,45,36,47,"set"],[42,48,36,50],[42,50,36,52,"get"],[42,53,36,55],[42,59,36,61],[43,4,37,2,"user"],[43,8,37,6],[43,10,37,8],[43,14,37,12],[44,4,38,2,"token"],[44,9,38,7],[44,11,38,9],[44,15,38,13],[45,4,39,2,"isLoading"],[45,13,39,11],[45,15,39,13],[45,20,39,18],[46,4,41,2,"hashPin"],[46,11,41,9],[46,13,41,11],[46,19,41,18,"pin"],[46,22,41,29],[46,26,41,34],[47,6,42,4],[47,12,42,10,"hash"],[47,16,42,14],[47,19,42,17],[47,25,42,23,"Crypto"],[47,31,42,29],[47,32,42,30,"digestStringAsync"],[47,49,42,47],[47,50,43,6,"Crypto"],[47,56,43,12],[47,57,43,13,"CryptoDigestAlgorithm"],[47,78,43,34],[47,79,43,35,"SHA256"],[47,85,43,41],[47,87,44,6,"pin"],[47,90,45,4],[47,91,45,5],[48,6,46,4],[48,13,46,11,"hash"],[48,17,46,15],[49,4,47,2],[49,5,47,3],[50,4,49,2,"setUser"],[50,11,49,9],[50,13,49,11],[50,19,49,11,"setUser"],[50,20,49,18,"user"],[50,24,49,35],[50,26,49,37,"pinHash"],[50,33,49,53],[50,38,49,58],[51,6,50,4],[51,10,50,8,"user"],[51,14,50,12],[51,16,50,14],[52,8,51,6],[52,14,51,12,"AsyncStorage"],[52,26,51,24],[52,27,51,24,"default"],[52,34,51,24],[52,35,51,25,"setItem"],[52,42,51,32],[52,43,51,33],[52,49,51,39],[52,51,51,41,"JSON"],[52,55,51,45],[52,56,51,46,"stringify"],[52,65,51,55],[52,66,51,56,"user"],[52,70,51,60],[52,71,51,61],[52,72,51,62],[53,8,52,6],[53,12,52,10,"pinHash"],[53,19,52,17],[53,21,52,19],[54,10,53,8],[54,16,53,14,"AsyncStorage"],[54,28,53,26],[54,29,53,26,"default"],[54,36,53,26],[54,37,53,27,"setItem"],[54,44,53,34],[54,45,53,35],[54,55,53,45],[54,57,53,47,"pinHash"],[54,64,53,54],[54,65,53,55],[55,8,54,6],[56,8,55,6,"set"],[56,11,55,9],[56,12,55,10],[57,10,55,12,"user"],[58,8,55,17],[58,9,55,18],[58,10,55,19],[59,8,56,6],[60,6,57,4],[61,6,59,4],[61,12,59,10,"AsyncStorage"],[61,24,59,22],[61,25,59,22,"default"],[61,32,59,22],[61,33,59,23,"multiRemove"],[61,44,59,34],[61,45,59,35],[61,46,59,36],[61,52,59,42],[61,54,59,44],[61,64,59,54],[61,65,59,55],[61,66,59,56],[62,6,60,4,"set"],[62,9,60,7],[62,10,60,8],[63,8,60,10,"user"],[63,12,60,14],[63,14,60,16],[63,18,60,20],[64,8,60,22,"token"],[64,13,60,27],[64,15,60,29],[65,6,60,34],[65,7,60,35],[65,8,60,36],[66,4,61,2],[66,5,61,3],[67,4,63,2,"register"],[67,12,63,10],[67,14,63,12],[67,20,63,12,"register"],[67,21,63,19,"username"],[67,29,63,35],[67,31,63,37,"pin"],[67,34,63,48],[67,39,63,53],[68,6,64,4,"set"],[68,9,64,7],[68,10,64,8],[69,8,64,10,"isLoading"],[69,17,64,19],[69,19,64,21],[70,6,64,26],[70,7,64,27],[70,8,64,28],[71,6,65,4],[71,10,65,8],[72,8,66,6],[72,14,66,12,"pinHash"],[72,21,66,19],[72,24,66,22],[72,30,66,28,"get"],[72,33,66,31],[72,34,66,32],[72,35,66,33],[72,36,66,34,"hashPin"],[72,43,66,41],[72,44,66,42,"pin"],[72,47,66,45],[72,48,66,46],[73,8,67,6],[73,14,67,12,"response"],[73,22,67,20],[73,25,67,23],[73,31,67,29,"axios"],[73,36,67,34],[73,37,67,34,"default"],[73,44,67,34],[73,45,67,35,"post"],[73,49,67,39],[73,50,67,40],[73,53,67,43,"API_URL"],[73,60,67,50],[73,81,67,71],[73,83,67,73],[74,10,68,8,"username"],[74,18,68,16],[75,10,69,8,"pin_hash"],[75,18,69,16],[75,20,69,18,"pinHash"],[76,8,70,6],[76,9,70,7],[76,10,70,8],[77,8,72,6],[77,14,72,12,"user"],[77,18,72,16],[77,21,72,19,"response"],[77,29,72,27],[77,30,72,28,"data"],[77,34,72,32],[78,8,73,6],[78,14,73,12,"get"],[78,17,73,15],[78,18,73,16],[78,19,73,17],[78,20,73,18,"setUser"],[78,27,73,25],[78,28,73,26,"user"],[78,32,73,30],[78,34,73,32,"pinHash"],[78,41,73,39],[78,42,73,40],[79,8,74,6,"set"],[79,11,74,9],[79,12,74,10],[80,10,74,12,"isLoading"],[80,19,74,21],[80,21,74,23],[81,8,74,29],[81,9,74,30],[81,10,74,31],[82,6,75,4],[82,7,75,5],[82,8,75,6],[82,15,75,13,"error"],[82,20,75,23],[82,22,75,25],[83,8,76,6,"set"],[83,11,76,9],[83,12,76,10],[84,10,76,12,"isLoading"],[84,19,76,21],[84,21,76,23],[85,8,76,29],[85,9,76,30],[85,10,76,31],[86,8,77,6],[86,14,77,12],[86,18,77,16,"Error"],[86,23,77,21],[86,24,77,22,"error"],[86,29,77,27],[86,30,77,28,"response"],[86,38,77,36],[86,40,77,38,"data"],[86,44,77,42],[86,46,77,44,"detail"],[86,52,77,50],[86,56,77,54],[86,77,77,75],[86,78,77,76],[87,6,78,4],[88,4,79,2],[88,5,79,3],[89,4,81,2,"login"],[89,9,81,7],[89,11,81,9],[89,17,81,9,"login"],[89,18,81,16,"username"],[89,26,81,32],[89,28,81,34,"pin"],[89,31,81,45],[89,36,81,50],[90,6,82,4,"set"],[90,9,82,7],[90,10,82,8],[91,8,82,10,"isLoading"],[91,17,82,19],[91,19,82,21],[92,6,82,26],[92,7,82,27],[92,8,82,28],[93,6,83,4],[93,10,83,8],[94,8,84,6],[94,14,84,12,"pinHash"],[94,21,84,19],[94,24,84,22],[94,30,84,28,"get"],[94,33,84,31],[94,34,84,32],[94,35,84,33],[94,36,84,34,"hashPin"],[94,43,84,41],[94,44,84,42,"pin"],[94,47,84,45],[94,48,84,46],[95,8,85,6],[95,14,85,12,"response"],[95,22,85,20],[95,25,85,23],[95,31,85,29,"axios"],[95,36,85,34],[95,37,85,34,"default"],[95,44,85,34],[95,45,85,35,"post"],[95,49,85,39],[95,50,85,40],[95,53,85,43,"API_URL"],[95,60,85,50],[95,78,85,68],[95,80,85,70],[96,10,86,8,"username"],[96,18,86,16],[97,10,87,8,"pin_hash"],[97,18,87,16],[97,20,87,18,"pinHash"],[98,8,88,6],[98,9,88,7],[98,10,88,8],[99,8,90,6],[99,14,90,12,"user"],[99,18,90,16],[99,21,90,19,"response"],[99,29,90,27],[99,30,90,28,"data"],[99,34,90,32],[100,8,91,6],[100,14,91,12,"get"],[100,17,91,15],[100,18,91,16],[100,19,91,17],[100,20,91,18,"setUser"],[100,27,91,25],[100,28,91,26,"user"],[100,32,91,30],[100,34,91,32,"pinHash"],[100,41,91,39],[100,42,91,40],[101,8,92,6,"set"],[101,11,92,9],[101,12,92,10],[102,10,92,12,"isLoading"],[102,19,92,21],[102,21,92,23],[103,8,92,29],[103,9,92,30],[103,10,92,31],[104,6,93,4],[104,7,93,5],[104,8,93,6],[104,15,93,13,"error"],[104,20,93,23],[104,22,93,25],[105,8,94,6,"set"],[105,11,94,9],[105,12,94,10],[106,10,94,12,"isLoading"],[106,19,94,21],[106,21,94,23],[107,8,94,29],[107,9,94,30],[107,10,94,31],[108,8,95,6],[108,14,95,12],[108,18,95,16,"Error"],[108,23,95,21],[108,24,95,22,"error"],[108,29,95,27],[108,30,95,28,"response"],[108,38,95,36],[108,40,95,38,"data"],[108,44,95,42],[108,46,95,44,"detail"],[108,52,95,50],[108,56,95,54],[108,70,95,68],[108,71,95,69],[109,6,96,4],[110,4,97,2],[110,5,97,3],[111,4,99,2,"logout"],[111,10,99,8],[111,12,99,10],[111,18,99,10,"logout"],[111,19,99,10],[111,24,99,22],[112,6,100,4],[112,12,100,10,"get"],[112,15,100,13],[112,16,100,14],[112,17,100,15],[112,18,100,16,"setUser"],[112,25,100,23],[112,26,100,24],[112,30,100,28],[112,31,100,29],[113,4,101,2],[113,5,101,3],[114,4,103,2,"checkAuth"],[114,13,103,11],[114,15,103,13],[114,21,103,13,"checkAuth"],[114,22,103,13],[114,27,103,25],[115,6,104,4],[115,10,104,8],[116,8,105,6],[116,14,105,12,"userStr"],[116,21,105,19],[116,24,105,22],[116,30,105,28,"AsyncStorage"],[116,42,105,40],[116,43,105,40,"default"],[116,50,105,40],[116,51,105,41,"getItem"],[116,58,105,48],[116,59,105,49],[116,65,105,55],[116,66,105,56],[117,8,106,6],[117,12,106,10,"userStr"],[117,19,106,17],[117,21,106,19],[118,10,107,8],[118,16,107,14,"user"],[118,20,107,18],[118,23,107,21,"JSON"],[118,27,107,25],[118,28,107,26,"parse"],[118,33,107,31],[118,34,107,32,"userStr"],[118,41,107,39],[118,42,107,40],[119,10,108,8,"set"],[119,13,108,11],[119,14,108,12],[120,12,108,14,"user"],[121,10,108,19],[121,11,108,20],[121,12,108,21],[122,8,109,6],[123,6,110,4],[123,7,110,5],[123,8,110,6],[123,15,110,13,"error"],[123,20,110,18],[123,22,110,20],[124,8,111,6,"console"],[124,15,111,13],[124,16,111,14,"error"],[124,21,111,19],[124,22,111,20],[124,42,111,40],[124,44,111,42,"error"],[124,49,111,47],[124,50,111,48],[125,6,112,4],[126,4,113,2],[127,2,114,0],[127,3,114,1],[127,4,114,2],[127,5,114,3],[128,0,114,4],[128,3]],"functionMap":{"names":["<global>","create$argument_0","hashPin","setUser","register","login","logout","checkAuth"],"mappings":"AAA;8CCmC;WCK;GDM;WEE;GFY;YGE;GHgB;SIE;GJgB;UKE;GLE;aME;GNU;EDC"},"hasCjsExports":false},"type":"js/module"}]}