{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-crypto","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":38,"index":142}}],"key":"+Akla+LrhuGGU54C9zXxLPlFUv4=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":143},"end":{"line":4,"column":26,"index":169}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoCrypto = require(_dependencyMap[2], \"expo-crypto\");\n  var Crypto = _interopNamespace(_expoCrypto);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: false,\n    hashPin: async pin => {\n      const hash = await Crypto.digestStringAsync(Crypto.CryptoDigestAlgorithm.SHA256, pin);\n      return hash;\n    },\n    setUser: async (user, pinHash) => {\n      if (user) {\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        if (pinHash) {\n          await AsyncStorage.default.setItem('pin_hash', pinHash);\n        }\n        set({\n          user\n        });\n        return;\n      }\n      await AsyncStorage.default.multiRemove(['user', 'pin_hash']);\n      set({\n        user: null,\n        token: null\n      });\n    },\n    register: async (username, pin) => {\n      set({\n        isLoading: true\n      });\n      try {\n        const pinHash = await get().hashPin(pin);\n        const response = await axios.default.post(`${API_URL}/api/users/register`, {\n          username,\n          pin_hash: pinHash\n        });\n        const user = response.data;\n        await get().setUser(user, pinHash);\n        set({\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    login: async (username, pin) => {\n      set({\n        isLoading: true\n      });\n      try {\n        const pinHash = await get().hashPin(pin);\n        const response = await axios.default.post(`${API_URL}/api/users/login`, {\n          username,\n          pin_hash: pinHash\n        });\n        const user = response.data;\n        await get().setUser(user, pinHash);\n        set({\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    logout: async () => {\n      await get().setUser(null);\n    },\n    checkAuth: async () => {\n      try {\n        const userStr = await AsyncStorage.default.getItem('user');\n        if (userStr) {\n          const user = JSON.parse(userStr);\n          set({\n            user\n          });\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n      }\n    }\n  }));\n});","lineCount":127,"map":[[27,2,36,0,"Object"],[27,8,36,0],[27,9,36,0,"defineProperty"],[27,23,36,0],[27,24,36,0,"exports"],[27,31,36,0],[28,4,36,0,"enumerable"],[28,14,36,0],[29,4,36,0,"get"],[29,7,36,0],[29,18,36,0,"get"],[29,19,36,0],[30,6,36,0],[30,13,36,0,"useAuthStore"],[30,25,36,0],[31,4,36,0],[32,2,36,0],[33,2,1,0],[33,6,1,0,"_zustand"],[33,14,1,0],[33,17,1,0,"require"],[33,24,1,0],[33,25,1,0,"_dependencyMap"],[33,39,1,0],[34,2,2,0],[34,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[34,42,2,0],[34,45,2,0,"require"],[34,52,2,0],[34,53,2,0,"_dependencyMap"],[34,67,2,0],[35,2,2,0],[35,6,2,0,"AsyncStorage"],[35,18,2,0],[35,21,2,0,"_interopDefault"],[35,36,2,0],[35,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[35,73,2,0],[36,2,3,0],[36,6,3,0,"_expoCrypto"],[36,17,3,0],[36,20,3,0,"require"],[36,27,3,0],[36,28,3,0,"_dependencyMap"],[36,42,3,0],[37,2,3,0],[37,6,3,0,"Crypto"],[37,12,3,0],[37,15,3,0,"_interopNamespace"],[37,32,3,0],[37,33,3,0,"_expoCrypto"],[37,44,3,0],[38,2,4,0],[38,6,4,0,"_axios"],[38,12,4,0],[38,15,4,0,"require"],[38,22,4,0],[38,23,4,0,"_dependencyMap"],[38,37,4,0],[39,2,4,0],[39,6,4,0,"axios"],[39,11,4,0],[39,14,4,0,"_interopDefault"],[39,29,4,0],[39,30,4,0,"_axios"],[39,36,4,0],[40,2,6,0],[40,8,6,6,"API_URL"],[40,15,6,13],[40,18,6,16,"process"],[40,25,6,23],[40,26,6,24,"env"],[40,29,6,27],[40,30,6,28,"EXPO_PUBLIC_BACKEND_URL"],[40,53,6,51],[41,2,36,7],[41,8,36,13,"useAuthStore"],[41,20,36,25],[41,23,36,28],[41,27,36,28,"create"],[41,35,36,34],[41,36,36,34,"create"],[41,42,36,34],[41,44,36,46],[41,45,36,47,"set"],[41,48,36,50],[41,50,36,52,"get"],[41,53,36,55],[41,59,36,61],[42,4,37,2,"user"],[42,8,37,6],[42,10,37,8],[42,14,37,12],[43,4,38,2,"token"],[43,9,38,7],[43,11,38,9],[43,15,38,13],[44,4,39,2,"isLoading"],[44,13,39,11],[44,15,39,13],[44,20,39,18],[45,4,41,2,"hashPin"],[45,11,41,9],[45,13,41,11],[45,19,41,18,"pin"],[45,22,41,29],[45,26,41,34],[46,6,42,4],[46,12,42,10,"hash"],[46,16,42,14],[46,19,42,17],[46,25,42,23,"Crypto"],[46,31,42,29],[46,32,42,30,"digestStringAsync"],[46,49,42,47],[46,50,43,6,"Crypto"],[46,56,43,12],[46,57,43,13,"CryptoDigestAlgorithm"],[46,78,43,34],[46,79,43,35,"SHA256"],[46,85,43,41],[46,87,44,6,"pin"],[46,90,45,4],[46,91,45,5],[47,6,46,4],[47,13,46,11,"hash"],[47,17,46,15],[48,4,47,2],[48,5,47,3],[49,4,49,2,"setUser"],[49,11,49,9],[49,13,49,11],[49,19,49,11,"setUser"],[49,20,49,18,"user"],[49,24,49,35],[49,26,49,37,"pinHash"],[49,33,49,53],[49,38,49,58],[50,6,50,4],[50,10,50,8,"user"],[50,14,50,12],[50,16,50,14],[51,8,51,6],[51,14,51,12,"AsyncStorage"],[51,26,51,24],[51,27,51,24,"default"],[51,34,51,24],[51,35,51,25,"setItem"],[51,42,51,32],[51,43,51,33],[51,49,51,39],[51,51,51,41,"JSON"],[51,55,51,45],[51,56,51,46,"stringify"],[51,65,51,55],[51,66,51,56,"user"],[51,70,51,60],[51,71,51,61],[51,72,51,62],[52,8,52,6],[52,12,52,10,"pinHash"],[52,19,52,17],[52,21,52,19],[53,10,53,8],[53,16,53,14,"AsyncStorage"],[53,28,53,26],[53,29,53,26,"default"],[53,36,53,26],[53,37,53,27,"setItem"],[53,44,53,34],[53,45,53,35],[53,55,53,45],[53,57,53,47,"pinHash"],[53,64,53,54],[53,65,53,55],[54,8,54,6],[55,8,55,6,"set"],[55,11,55,9],[55,12,55,10],[56,10,55,12,"user"],[57,8,55,17],[57,9,55,18],[57,10,55,19],[58,8,56,6],[59,6,57,4],[60,6,59,4],[60,12,59,10,"AsyncStorage"],[60,24,59,22],[60,25,59,22,"default"],[60,32,59,22],[60,33,59,23,"multiRemove"],[60,44,59,34],[60,45,59,35],[60,46,59,36],[60,52,59,42],[60,54,59,44],[60,64,59,54],[60,65,59,55],[60,66,59,56],[61,6,60,4,"set"],[61,9,60,7],[61,10,60,8],[62,8,60,10,"user"],[62,12,60,14],[62,14,60,16],[62,18,60,20],[63,8,60,22,"token"],[63,13,60,27],[63,15,60,29],[64,6,60,34],[64,7,60,35],[64,8,60,36],[65,4,61,2],[65,5,61,3],[66,4,63,2,"register"],[66,12,63,10],[66,14,63,12],[66,20,63,12,"register"],[66,21,63,19,"username"],[66,29,63,35],[66,31,63,37,"pin"],[66,34,63,48],[66,39,63,53],[67,6,64,4,"set"],[67,9,64,7],[67,10,64,8],[68,8,64,10,"isLoading"],[68,17,64,19],[68,19,64,21],[69,6,64,26],[69,7,64,27],[69,8,64,28],[70,6,65,4],[70,10,65,8],[71,8,66,6],[71,14,66,12,"pinHash"],[71,21,66,19],[71,24,66,22],[71,30,66,28,"get"],[71,33,66,31],[71,34,66,32],[71,35,66,33],[71,36,66,34,"hashPin"],[71,43,66,41],[71,44,66,42,"pin"],[71,47,66,45],[71,48,66,46],[72,8,67,6],[72,14,67,12,"response"],[72,22,67,20],[72,25,67,23],[72,31,67,29,"axios"],[72,36,67,34],[72,37,67,34,"default"],[72,44,67,34],[72,45,67,35,"post"],[72,49,67,39],[72,50,67,40],[72,53,67,43,"API_URL"],[72,60,67,50],[72,81,67,71],[72,83,67,73],[73,10,68,8,"username"],[73,18,68,16],[74,10,69,8,"pin_hash"],[74,18,69,16],[74,20,69,18,"pinHash"],[75,8,70,6],[75,9,70,7],[75,10,70,8],[76,8,72,6],[76,14,72,12,"user"],[76,18,72,16],[76,21,72,19,"response"],[76,29,72,27],[76,30,72,28,"data"],[76,34,72,32],[77,8,73,6],[77,14,73,12,"get"],[77,17,73,15],[77,18,73,16],[77,19,73,17],[77,20,73,18,"setUser"],[77,27,73,25],[77,28,73,26,"user"],[77,32,73,30],[77,34,73,32,"pinHash"],[77,41,73,39],[77,42,73,40],[78,8,74,6,"set"],[78,11,74,9],[78,12,74,10],[79,10,74,12,"isLoading"],[79,19,74,21],[79,21,74,23],[80,8,74,29],[80,9,74,30],[80,10,74,31],[81,6,75,4],[81,7,75,5],[81,8,75,6],[81,15,75,13,"error"],[81,20,75,23],[81,22,75,25],[82,8,76,6,"set"],[82,11,76,9],[82,12,76,10],[83,10,76,12,"isLoading"],[83,19,76,21],[83,21,76,23],[84,8,76,29],[84,9,76,30],[84,10,76,31],[85,8,77,6],[85,14,77,12],[85,18,77,16,"Error"],[85,23,77,21],[85,24,77,22,"error"],[85,29,77,27],[85,30,77,28,"response"],[85,38,77,36],[85,40,77,38,"data"],[85,44,77,42],[85,46,77,44,"detail"],[85,52,77,50],[85,56,77,54],[85,77,77,75],[85,78,77,76],[86,6,78,4],[87,4,79,2],[87,5,79,3],[88,4,81,2,"login"],[88,9,81,7],[88,11,81,9],[88,17,81,9,"login"],[88,18,81,16,"username"],[88,26,81,32],[88,28,81,34,"pin"],[88,31,81,45],[88,36,81,50],[89,6,82,4,"set"],[89,9,82,7],[89,10,82,8],[90,8,82,10,"isLoading"],[90,17,82,19],[90,19,82,21],[91,6,82,26],[91,7,82,27],[91,8,82,28],[92,6,83,4],[92,10,83,8],[93,8,84,6],[93,14,84,12,"pinHash"],[93,21,84,19],[93,24,84,22],[93,30,84,28,"get"],[93,33,84,31],[93,34,84,32],[93,35,84,33],[93,36,84,34,"hashPin"],[93,43,84,41],[93,44,84,42,"pin"],[93,47,84,45],[93,48,84,46],[94,8,85,6],[94,14,85,12,"response"],[94,22,85,20],[94,25,85,23],[94,31,85,29,"axios"],[94,36,85,34],[94,37,85,34,"default"],[94,44,85,34],[94,45,85,35,"post"],[94,49,85,39],[94,50,85,40],[94,53,85,43,"API_URL"],[94,60,85,50],[94,78,85,68],[94,80,85,70],[95,10,86,8,"username"],[95,18,86,16],[96,10,87,8,"pin_hash"],[96,18,87,16],[96,20,87,18,"pinHash"],[97,8,88,6],[97,9,88,7],[97,10,88,8],[98,8,90,6],[98,14,90,12,"user"],[98,18,90,16],[98,21,90,19,"response"],[98,29,90,27],[98,30,90,28,"data"],[98,34,90,32],[99,8,91,6],[99,14,91,12,"get"],[99,17,91,15],[99,18,91,16],[99,19,91,17],[99,20,91,18,"setUser"],[99,27,91,25],[99,28,91,26,"user"],[99,32,91,30],[99,34,91,32,"pinHash"],[99,41,91,39],[99,42,91,40],[100,8,92,6,"set"],[100,11,92,9],[100,12,92,10],[101,10,92,12,"isLoading"],[101,19,92,21],[101,21,92,23],[102,8,92,29],[102,9,92,30],[102,10,92,31],[103,6,93,4],[103,7,93,5],[103,8,93,6],[103,15,93,13,"error"],[103,20,93,23],[103,22,93,25],[104,8,94,6,"set"],[104,11,94,9],[104,12,94,10],[105,10,94,12,"isLoading"],[105,19,94,21],[105,21,94,23],[106,8,94,29],[106,9,94,30],[106,10,94,31],[107,8,95,6],[107,14,95,12],[107,18,95,16,"Error"],[107,23,95,21],[107,24,95,22,"error"],[107,29,95,27],[107,30,95,28,"response"],[107,38,95,36],[107,40,95,38,"data"],[107,44,95,42],[107,46,95,44,"detail"],[107,52,95,50],[107,56,95,54],[107,70,95,68],[107,71,95,69],[108,6,96,4],[109,4,97,2],[109,5,97,3],[110,4,99,2,"logout"],[110,10,99,8],[110,12,99,10],[110,18,99,10,"logout"],[110,19,99,10],[110,24,99,22],[111,6,100,4],[111,12,100,10,"get"],[111,15,100,13],[111,16,100,14],[111,17,100,15],[111,18,100,16,"setUser"],[111,25,100,23],[111,26,100,24],[111,30,100,28],[111,31,100,29],[112,4,101,2],[112,5,101,3],[113,4,103,2,"checkAuth"],[113,13,103,11],[113,15,103,13],[113,21,103,13,"checkAuth"],[113,22,103,13],[113,27,103,25],[114,6,104,4],[114,10,104,8],[115,8,105,6],[115,14,105,12,"userStr"],[115,21,105,19],[115,24,105,22],[115,30,105,28,"AsyncStorage"],[115,42,105,40],[115,43,105,40,"default"],[115,50,105,40],[115,51,105,41,"getItem"],[115,58,105,48],[115,59,105,49],[115,65,105,55],[115,66,105,56],[116,8,106,6],[116,12,106,10,"userStr"],[116,19,106,17],[116,21,106,19],[117,10,107,8],[117,16,107,14,"user"],[117,20,107,18],[117,23,107,21,"JSON"],[117,27,107,25],[117,28,107,26,"parse"],[117,33,107,31],[117,34,107,32,"userStr"],[117,41,107,39],[117,42,107,40],[118,10,108,8,"set"],[118,13,108,11],[118,14,108,12],[119,12,108,14,"user"],[120,10,108,19],[120,11,108,20],[120,12,108,21],[121,8,109,6],[122,6,110,4],[122,7,110,5],[122,8,110,6],[122,15,110,13,"error"],[122,20,110,18],[122,22,110,20],[123,8,111,6,"console"],[123,15,111,13],[123,16,111,14,"error"],[123,21,111,19],[123,22,111,20],[123,42,111,40],[123,44,111,42,"error"],[123,49,111,47],[123,50,111,48],[124,6,112,4],[125,4,113,2],[126,2,114,0],[126,3,114,1],[126,4,114,2],[126,5,114,3],[127,0,114,4],[127,3]],"functionMap":{"names":["<global>","create$argument_0","hashPin","setUser","register","login","logout","checkAuth"],"mappings":"AAA;8CCmC;WCK;GDM;WEE;GFY;YGE;GHgB;SIE;GJgB;UKE;GLE;aME;GNU;EDC"},"hasCjsExports":false},"type":"js/module"}]}